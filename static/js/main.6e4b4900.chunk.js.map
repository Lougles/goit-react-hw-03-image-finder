{"version":3,"sources":["Components/Modal/Modal.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/App/App.js","index.js"],"names":["modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onClose","handleBackDrop","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","onClick","children","Component","Searchbar","state","filter","handleChange","event","value","setState","onSubmit","preventDefault","handleSearch","type","onChange","autoComplete","autoFocus","placeholder","ImageGalleryItem","image","tags","getLargeImg","src","alt","ImageGallery","data","length","map","item","largeImageURL","largeImageUrl","tag","id","Button","App","showModal","page","loader","toggleModal","searchImages","axios","get","then","response","console","log","prevState","hits","finally","query","_","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6e4b4900.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown)\r\n  }\r\n  handleKeyDown = e => {\r\n      if (e.code === 'Escape') {\r\n        this.props.onClose();\r\n      }\r\n    }\r\n  handleBackDrop = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  }\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackDrop}>\r\n        <div className=\"Modal\">\r\n          {this.props.children}\r\n        </div>\r\n      </div>, modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    filter: '',\r\n  }\r\n  handleChange = event => {\r\n    const { value } = event.currentTarget;\r\n    this.setState({ filter: value });\r\n    \r\n  };\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    this.props.handleSearch(this.state.filter);\r\n    this.setState({ filter: '' });\r\n  }\r\n  render() {\r\n    const { filter } = this.state;\r\n      return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={this.onSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\"></span>\r\n        </button>\r\n        <input\r\n            className=\"SearchForm-input\"\r\n            value={filter}\r\n            onChange={ this.handleChange}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  )\r\n  }\r\n\r\n}\r\nexport default Searchbar;","import React from 'react';\r\n\r\n\r\nconst ImageGalleryItem = ({image, tags, onClick, getLargeImg}) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img src={image} alt={tags} onClick={() => { getLargeImg(image); onClick() }} className=\"ImageGalleryItem-image\"/>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ data, onClick, getLargeImg }) => {\r\n  if (data.length === 0) {\r\n    return null;\r\n  }\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {data.map(item => <ImageGalleryItem image={item.largeImageURL} getLargeImg={getLargeImg} onClick={onClick} largeImageUrl={item.largeImageURL} tag={item.tags} key={item.id} />)}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default ImageGallery;","import React from 'react';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\r\n      Load More\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;","import React, { Component } from 'react';\nimport Loader from \"react-loader-spinner\";\nimport Modal from '../Modal/Modal';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button'\nimport axios from 'axios';\nimport services from '../../Services/Services';\n\nclass App extends Component {\n  state = {\n    filter: '',\n    showModal: false,\n    data: [],\n    largeImageURL: '',\n    page: 1,\n    loader: false,\n  }\n  componentDidUpdate(_, prevState) {\n    if (prevState.filter !== this.state.filter) {\n      this.searchImages();\n    }\n  }\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }))\n  }\n  searchImages = () => {\n    this.setState({ loader: true });\n    axios.get(`https://pixabay.com/api/?key=20134197-bbc807323e2a93a38d1a062c9&q=${this.state.filter}&page=${this.state.page}&image_type=photo`).then(response => {\n        console.log(response.data);\n      this.setState((prevState) => ({\n        data: [...prevState.data, ...response.data.hits],\n        page: prevState.page + 1\n      }))\n    }).finally(() => this.setState({loader: false}));\n  }\n  handleSearch = query => {\n    this.setState({ filter: query, page: 1, data: [] });\n  }\n\n  getLargeImg = (largeImageURL) => {\n    console.log(largeImageURL);\n    this.setState({ largeImageURL:  largeImageURL});\n}\n  render() {\n    const {filter, showModal, largeImageURL } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar\n          handleSearch= {this.handleSearch}\n        />\n        <ImageGallery\n          getLargeImg={this.getLargeImg}\n          data={this.state.data}\n          onClick={this.toggleModal}\n        />\n        {this.state.loader ? <Loader\n          className=\"loader\"\n          type=\"ThreeDots\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000}\n        /> :\n        filter &&\n        <Button\n          onClick={this.searchImages}>\n        </Button>}\n        {showModal &&\n          <Modal\n          onClose={this.toggleModal}>\n          <img src={largeImageURL} alt=\"qwerty\" />\n        </Modal> }\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}